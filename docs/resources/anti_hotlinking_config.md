---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "st-cdnetworks_anti_hotlinking_config Resource - st-cdnetworks"
subcategory: ""
description: |-
  Anti-theft chain configuration
                      note:
                      1. When you need to cancel the anti-theft chain configuration settings, you can pass in the empty node .
                      2. When it is necessary to set the anti-theft chain configuration, this item is required.
---

# st-cdnetworks_anti_hotlinking_config (Resource)

Anti-theft chain configuration
                    note:
                    1. When you need to cancel the anti-theft chain configuration settings, you can pass in the empty node .
                    2. When it is necessary to set the anti-theft chain configuration, this item is required.

## Example Usage

```terraform
resource "st-cdnetworks_anti_hotlinking_config" "test" {
  domain_id = st-cdnetworks_shield_domain.test.domain_id

  ip_control_rule {
    directory      = "/abc/"
    control_action = "302"
    rewrite_to     = "aaa"
    allowed_ips    = ["1.1.1.1", "1.1.1.2", "1.1.1.3"]
  }

  referer_control_rule {
    directory          = "/abc/"
    control_action     = "302"
    rewrite_to         = "aaa"
    valid_urls         = ["https://1.1.1.1", "https://2.2.2.2"]
    allow_null_referer = true
  }

  ua_control_rule {
    directory         = "/abc/"
    control_action    = "302"
    rewrite_to        = "aaa"
    valid_user_agents = ["a|b", "c|d"]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain_id` (String) Domain id

### Optional

- `ip_control_rule` (Block List) Identify IP black and white list anti-theft chain
            note:
            1. a set of black and white list anti-theft chain, only one set under a data-id
            2. When the air interface label indicates the exception of the IP segment configuration and the forbidden IP segment configuration. (see [below for nested schema](#nestedblock--ip_control_rule))
- `referer_control_rule` (Block List) Identify referer anti-theft chain (see [below for nested schema](#nestedblock--referer_control_rule))
- `ua_control_rule` (Block List) UA head protection against hotlinking,
                    Note:
                    1. Represents a group of UA head defense hotlinking
                    2. when empty label means clear UA head protection hotlinking (see [below for nested schema](#nestedblock--ua_control_rule))

<a id="nestedblock--ip_control_rule"></a>
### Nested Schema for `ip_control_rule`

Optional:

- `allowed_ips` (List of String) The exception IP segment supports input IP or IP segment, and the IP segments are separated by a semicolon (;), such as 1.1.1.0/24; 2.2.2.2, some IP exceptions, no anti-theft chain.
- `control_action` (String) control direction. Available values: 403 and 302
    1) 403 means to return a specific error status code to reject the service (the default mode, the status code can be specified, generally 403).
    2) 302 means to return 302 the redirect url of the Found, the redirected url can be specified. If pass 302, rewrite-to is required
- `custom_file_type` (String) Custom file type: Fill in the appropriate identifiable file type according to your needs outside of the specified file type. Can be used with file-type. If the file-type is also configured, the actual file type is the sum of the two parameters.
- `custom_pattern` (String) Specify common types: Select the domain name that requires the anti-theft chain to be all files or the home page. :
                                E.g:
                                All: all files
                                Homepage: homepage
- `directory` (String) Directory: Specify the directory for anti-theft chain settings.Enter a legal directory format. Multiple separated by semicolons
- `except_custom_file_type` (String) Exceptional custom file types: Fill in the appropriate identifiable file types based on your needs, outside of the specified file type. Can be used with the exception-file-type. If the except-file-type is also configured, the actual file type is the sum of the two parameters.
- `except_directory` (String) Exceptional directory: Specify a directory that does not require anti-theft chain settings
    Enter a legal directory format. Multiple separated by semicolons
- `except_file_type` (String) Exception file type: Specify the file type that does not require anti-theft chain function
        File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
        If you need all types, pass all directly. Multiple separated by semicolons, all and specific file types cannot be configured at the same time
        If file-type=all, except-file-type=all means that the task file type is not matched.
- `except_path_pattern` (String) Exceptional url matching mode, except for some URLs: such as abc.jpg, do not do anti-theft chain function.E.g: ^https?://[^/]+/.*\.m3u8
- `file_type` (String) File Type: Specify the file type for anti-theft chain settings.
    File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
    If you need all types, pass all directly. Multiples are separated by semicolons, and all and specific file types cannot be configured at the same time.
- `forbidden_ips` (List of String) Prohibited IP segment.
- `path_pattern` (String) The url matching mode supports regularization. If all matches, the input parameters can be configured as: .*
- `priority` (Number) Indicates the priority execution order of multiple sets of redirected content by the customer. The higher the number, the higher the priority.
When adding a new configuration item, the default is 10
- `rewrite_to` (String) Specify the url after the 302 jump. This field is required if the control-action value is 302.
- `specify_url_pattern` (String) Specify URL cache: Specify url according to requirements for anti-theft chain setting
    INS format does not support URI format with http(s)://


<a id="nestedblock--referer_control_rule"></a>
### Nested Schema for `referer_control_rule`

Optional:

- `allow_null_referer` (Boolean) If any of the four terms 'nullreferer: legal referer, (legal domain name, legal URL), illegal referer, (illegal domain name, illegal URL)' is allowed, then 'nullreferer' cannot be null.If the four terms 'legal refer', 'legal domain name, legal URL', 'illegal refer', 'illegal domain name, illegal URL' are all null values, then 'whether to allow a null referer' must be null
- `control_action` (String) control direction. Available values: 403 and 302
    1) 403 means to return a specific error status code to reject the service (the default mode, the status code can be specified, generally 403).
    2) 302 means to return 302 the redirect url of the Found, the redirected url can be specified. If pass 302, rewrite-to is required
- `custom_file_type` (String) Custom file type: Fill in the appropriate identifiable file type according to your needs outside of the specified file type. Can be used with file-type. If the file-type is also configured, the actual file type is the sum of the two parameters.
- `custom_pattern` (String) Specify common types: Select the domain name that requires the anti-theft chain to be all files or the home page. :
                                E.g:
                                All: all files
                                Homepage: homepage
- `directory` (String) Directory: Specify the directory for anti-theft chain settings.Enter a legal directory format. Multiple separated by semicolons
- `except_custom_file_type` (String) Exceptional custom file types: Fill in the appropriate identifiable file types based on your needs, outside of the specified file type. Can be used with the exception-file-type. If the except-file-type is also configured, the actual file type is the sum of the two parameters.
- `except_directory` (String) Exceptional directory: Specify a directory that does not require anti-theft chain settings
    Enter a legal directory format. Multiple separated by semicolons
- `except_file_type` (String) Exception file type: Specify the file type that does not require anti-theft chain function
        File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
        If you need all types, pass all directly. Multiple separated by semicolons, all and specific file types cannot be configured at the same time
        If file-type=all, except-file-type=all means that the task file type is not matched.
- `except_path_pattern` (String) Exceptional url matching mode, except for some URLs: such as abc.jpg, do not do anti-theft chain function.E.g: ^https?://[^/]+/.*\.m3u8
- `file_type` (String) File Type: Specify the file type for anti-theft chain settings.
    File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
    If you need all types, pass all directly. Multiples are separated by semicolons, and all and specific file types cannot be configured at the same time.
- `invalid_domains` (List of String) Illegal domain name
- `invalid_urls` (List of String) Invalid url, enter the correct url format.
- `path_pattern` (String) The url matching mode supports regularization. If all matches, the input parameters can be configured as: .*
- `priority` (Number) Indicates the priority execution order of multiple sets of redirected content by the customer. The higher the number, the higher the priority.
When adding a new configuration item, the default is 10
- `rewrite_to` (String) Specify the url after the 302 jump. This field is required if the control-action value is 302.
- `specify_url_pattern` (String) Specify URL cache: Specify url according to requirements for anti-theft chain setting
    INS format does not support URI format with http(s)://
- `valid_domains` (List of String) Legal domain name.
- `valid_urls` (List of String) Legal url, enter the correct url format.


<a id="nestedblock--ua_control_rule"></a>
### Nested Schema for `ua_control_rule`

Optional:

- `control_action` (String) control direction. Available values: 403 and 302
    1) 403 means to return a specific error status code to reject the service (the default mode, the status code can be specified, generally 403).
    2) 302 means to return 302 the redirect url of the Found, the redirected url can be specified. If pass 302, rewrite-to is required
- `custom_file_type` (String) Custom file type: Fill in the appropriate identifiable file type according to your needs outside of the specified file type. Can be used with file-type. If the file-type is also configured, the actual file type is the sum of the two parameters.
- `custom_pattern` (String) Specify common types: Select the domain name that requires the anti-theft chain to be all files or the home page. :
                                E.g:
                                All: all files
                                Homepage: homepage
- `directory` (String) Directory: Specify the directory for anti-theft chain settings.Enter a legal directory format. Multiple separated by semicolons
- `except_custom_file_type` (String) Exceptional custom file types: Fill in the appropriate identifiable file types based on your needs, outside of the specified file type. Can be used with the exception-file-type. If the except-file-type is also configured, the actual file type is the sum of the two parameters.
- `except_directory` (String) Exceptional directory: Specify a directory that does not require anti-theft chain settings
    Enter a legal directory format. Multiple separated by semicolons
- `except_file_type` (String) Exception file type: Specify the file type that does not require anti-theft chain function
        File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
        If you need all types, pass all directly. Multiple separated by semicolons, all and specific file types cannot be configured at the same time
        If file-type=all, except-file-type=all means that the task file type is not matched.
- `except_path_pattern` (String) Exceptional url matching mode, except for some URLs: such as abc.jpg, do not do anti-theft chain function.E.g: ^https?://[^/]+/.*\.m3u8
- `file_type` (String) File Type: Specify the file type for anti-theft chain settings.
    File types include: gif png bmp jpeg jpg html htm shtml mp3 wma flv mp4 wmv zip exe rar css txt ico js swf
    If you need all types, pass all directly. Multiples are separated by semicolons, and all and specific file types cannot be configured at the same time.
- `invalid_user_agents` (List of String) Forbidden client, regular match, no spaces allowed, configure multiple UA such as:
    Android|iPhone
- `path_pattern` (String) The url matching mode supports regularization. If all matches, the input parameters can be configured as: .*
- `priority` (Number) Indicates the priority execution order of multiple sets of redirected content by the customer. The higher the number, the higher the priority.
When adding a new configuration item, the default is 10
- `rewrite_to` (String) Specify the url after the 302 jump. This field is required if the control-action value is 302.
- `specify_url_pattern` (String) Specify URL cache: Specify url according to requirements for anti-theft chain setting
    INS format does not support URI format with http(s)://
- `valid_user_agents` (List of String) Allowed clients, regular matching, no spaces allowed, to configure multiple UA such as:
    Android|iPhone
